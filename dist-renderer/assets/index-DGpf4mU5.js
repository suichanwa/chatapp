const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./MobileChatApp-qXKjfAE8.js","./ChatApp-lnYSjVDo.js","./ChatApp-Zgay3N5a.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const w="modulepreload",A=function(e,t){return new URL(e,t).href},m={},f=function(t,o,l){let r=Promise.resolve();if(o&&o.length>0){const s=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),h=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(o.map(a=>{if(a=A(a,l),a in m)return;m[a]=!0;const u=a.endsWith(".css"),y=u?'[rel="stylesheet"]':"";if(!!l)for(let d=s.length-1;d>=0;d--){const p=s[d];if(p.href===a&&(!u||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${y}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":w,u||(c.as="script"),c.crossOrigin="",c.href=a,h&&c.setAttribute("nonce",h),document.head.appendChild(c),u)return new Promise((d,p)=>{c.addEventListener("load",d),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}function n(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return r.then(s=>{for(const i of s||[])i.status==="rejected"&&n(i.reason);return t().catch(n)})},g="securechat:entryTarget";function E(e){localStorage.setItem(g,e),location.reload()}function b(){const e=(localStorage.getItem(g)||"").toLowerCase();return e==="desktop"||e==="mobile"?e:v()?"mobile":"desktop"}function v(){const e=navigator.userAgent,t=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),o=!!window.Capacitor;return t||o}console.log("ðŸ”’ Secure Chat App starting...");Object.assign(window,{setEntryTarget:e=>E(e)});const P=b();P==="mobile"?(console.log("ðŸ“± Loading MobileChatApp (entry handler)"),f(async()=>{const{MobileChatApp:e}=await import("./MobileChatApp-qXKjfAE8.js");return{MobileChatApp:e}},__vite__mapDeps([0,1,2]),import.meta.url).then(({MobileChatApp:e})=>{const t=new e;window.chatApp=t,t.initialize().catch(o=>{console.error("Failed to initialize MobileChatApp:",o)})}).catch(e=>{console.error("Failed to load MobileChatApp module:",e),f(async()=>{const{ChatApp:t}=await import("./ChatApp-lnYSjVDo.js");return{ChatApp:t}},__vite__mapDeps([1,2]),import.meta.url).then(({ChatApp:t})=>{const o=new t;window.chatApp=o,o.initialize().catch(l=>console.error("Failed to initialize ChatApp (fallback):",l))})})):(console.log("ðŸ’» Loading ChatApp (entry handler)"),f(async()=>{const{ChatApp:e}=await import("./ChatApp-lnYSjVDo.js");return{ChatApp:e}},__vite__mapDeps([1,2]),import.meta.url).then(({ChatApp:e})=>{const t=new e;window.chatApp=t,t.initialize().catch(o=>console.error("Failed to initialize ChatApp:",o))}).catch(e=>{console.error("Failed to load ChatApp module:",e)}));
