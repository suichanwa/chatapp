const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./MobileChatApp-DIIjuqO0.js","./ChatApp-BQePORvA.js"])))=>i.map(i=>d[i]);
var h=(t,o,c)=>new Promise((d,e)=>{var r=l=>{try{n(c.next(l))}catch(s){e(s)}},i=l=>{try{n(c.throw(l))}catch(s){e(s)}},n=l=>l.done?d(l.value):Promise.resolve(l.value).then(r,i);n((c=c.apply(t,o)).next())});(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&d(i)}).observe(document,{childList:!0,subtree:!0});function c(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(e){if(e.ep)return;e.ep=!0;const r=c(e);fetch(e.href,r)}})();const w="modulepreload",E=function(t,o){return new URL(t,o).href},g={},y=function(o,c,d){let e=Promise.resolve();if(c&&c.length>0){const i=document.getElementsByTagName("link"),n=document.querySelector("meta[property=csp-nonce]"),l=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));e=Promise.allSettled(c.map(s=>{if(s=E(s,d),s in g)return;g[s]=!0;const u=s.endsWith(".css"),v=u?'[rel="stylesheet"]':"";if(!!d)for(let p=i.length-1;p>=0;p--){const f=i[p];if(f.href===s&&(!u||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${v}`))return;const a=document.createElement("link");if(a.rel=u?"stylesheet":w,u||(a.as="script"),a.crossOrigin="",a.href=s,l&&a.setAttribute("nonce",l),document.head.appendChild(a),u)return new Promise((p,f)=>{a.addEventListener("load",p),a.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})}))}function r(i){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=i,window.dispatchEvent(n),!n.defaultPrevented)throw i}return e.then(i=>{for(const n of i||[])n.status==="rejected"&&r(n.reason);return o().catch(r)})};console.log("ğŸ“± Secure Chat Mobile App starting...");const b=()=>{const t=document.getElementById("loading");t&&(t.style.opacity="0",setTimeout(()=>t.remove(),300))},m=t=>{console.error("ğŸ“± Mobile app error:",t);const o=document.getElementById("loading");o&&(o.innerHTML=`
      <div style="text-align: center; color: #ff4444;">
        <h2>âŒ Failed to Load App</h2>
        <p>${t.message}</p>
        <button onclick="location.reload()" style="padding: 10px 20px; margin-top: 20px; background: #007acc; color: white; border: none; border-radius: 5px;">
          Retry
        </button>
      </div>
    `)},P=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),L=!!window.Capacitor;P||L?(console.log("ğŸ“± Running in mobile mode"),y(()=>h(void 0,null,function*(){const{MobileChatApp:t}=yield import("./MobileChatApp-DIIjuqO0.js");return{MobileChatApp:t}}),__vite__mapDeps([0,1]),import.meta.url).then(({MobileChatApp:t})=>{const o=new t;window.mobileApp=o,o.initialize().then(()=>{console.log("ğŸ“± Mobile app initialized successfully"),b()}).catch(m)}).catch(m)):(console.log("ğŸ’» Running in desktop fallback mode"),y(()=>h(void 0,null,function*(){const{ChatApp:t}=yield import("./ChatApp-BQePORvA.js").then(o=>o.a);return{ChatApp:t}}),[],import.meta.url).then(({ChatApp:t})=>{const o=new t;window.chatApp=o,o.initialize().then(()=>{console.log("ğŸ’» Desktop fallback app initialized"),b()}).catch(m)}).catch(m));export{y as _};
